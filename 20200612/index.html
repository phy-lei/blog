<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>初识动态规划01背包问题 | phy-lei</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/blog/favicon3.ico">
    <link rel="manifest" href="/blog/manifest.json">
    <link rel="apple-touch-icon" href="/blog/icons/icon-152x152.png">
    <link rel="mask-icon" href="/blog/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="残留枝头的樱花瓣，也终将迎来凋零的命运">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/blog/assets/css/0.styles.7b9ae4fa.css" as="style"><link rel="preload" href="/blog/assets/js/app.f82ab758.js" as="script"><link rel="preload" href="/blog/assets/js/3.f22d9993.js" as="script"><link rel="preload" href="/blog/assets/js/2.6942517c.js" as="script"><link rel="preload" href="/blog/assets/js/1.6cb646c9.js" as="script"><link rel="preload" href="/blog/assets/js/79.e42c1929.js" as="script"><link rel="preload" href="/blog/assets/js/29.fcd1d089.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.9a8af6c2.js"><link rel="prefetch" href="/blog/assets/js/13.a6a5a486.js"><link rel="prefetch" href="/blog/assets/js/14.b8418805.js"><link rel="prefetch" href="/blog/assets/js/15.149dc00f.js"><link rel="prefetch" href="/blog/assets/js/16.f0f9b1e0.js"><link rel="prefetch" href="/blog/assets/js/17.fc3a5446.js"><link rel="prefetch" href="/blog/assets/js/18.3b21a7ed.js"><link rel="prefetch" href="/blog/assets/js/19.7abeab97.js"><link rel="prefetch" href="/blog/assets/js/20.a501565e.js"><link rel="prefetch" href="/blog/assets/js/21.954b4ce8.js"><link rel="prefetch" href="/blog/assets/js/22.9b9920a8.js"><link rel="prefetch" href="/blog/assets/js/23.a71d5ac7.js"><link rel="prefetch" href="/blog/assets/js/24.b707da8b.js"><link rel="prefetch" href="/blog/assets/js/25.7df830be.js"><link rel="prefetch" href="/blog/assets/js/26.9bbbfc6f.js"><link rel="prefetch" href="/blog/assets/js/27.0de7f640.js"><link rel="prefetch" href="/blog/assets/js/28.34e66a6a.js"><link rel="prefetch" href="/blog/assets/js/30.521bc044.js"><link rel="prefetch" href="/blog/assets/js/31.9632880e.js"><link rel="prefetch" href="/blog/assets/js/32.4dac841d.js"><link rel="prefetch" href="/blog/assets/js/33.3f0f1eb8.js"><link rel="prefetch" href="/blog/assets/js/34.5051345e.js"><link rel="prefetch" href="/blog/assets/js/35.9d37e1d0.js"><link rel="prefetch" href="/blog/assets/js/36.4b7dccc2.js"><link rel="prefetch" href="/blog/assets/js/37.934dd196.js"><link rel="prefetch" href="/blog/assets/js/38.7172c5ad.js"><link rel="prefetch" href="/blog/assets/js/39.ac5f14d6.js"><link rel="prefetch" href="/blog/assets/js/4.df633aa0.js"><link rel="prefetch" href="/blog/assets/js/40.d815cec3.js"><link rel="prefetch" href="/blog/assets/js/41.d95aa187.js"><link rel="prefetch" href="/blog/assets/js/42.c2b8c461.js"><link rel="prefetch" href="/blog/assets/js/43.ffe85caa.js"><link rel="prefetch" href="/blog/assets/js/44.e1b446b0.js"><link rel="prefetch" href="/blog/assets/js/45.d316cfad.js"><link rel="prefetch" href="/blog/assets/js/46.45a7eff1.js"><link rel="prefetch" href="/blog/assets/js/47.631bc071.js"><link rel="prefetch" href="/blog/assets/js/48.c610510d.js"><link rel="prefetch" href="/blog/assets/js/49.f6703ad4.js"><link rel="prefetch" href="/blog/assets/js/5.5608d9f0.js"><link rel="prefetch" href="/blog/assets/js/50.a0efde45.js"><link rel="prefetch" href="/blog/assets/js/51.e074718b.js"><link rel="prefetch" href="/blog/assets/js/52.8aa7ae3b.js"><link rel="prefetch" href="/blog/assets/js/53.e6b65548.js"><link rel="prefetch" href="/blog/assets/js/54.85ed2ac2.js"><link rel="prefetch" href="/blog/assets/js/55.639afa50.js"><link rel="prefetch" href="/blog/assets/js/56.b9e3a012.js"><link rel="prefetch" href="/blog/assets/js/57.d05e6764.js"><link rel="prefetch" href="/blog/assets/js/58.08f05ef9.js"><link rel="prefetch" href="/blog/assets/js/59.5b0728f6.js"><link rel="prefetch" href="/blog/assets/js/6.10ea8153.js"><link rel="prefetch" href="/blog/assets/js/60.d4d355e4.js"><link rel="prefetch" href="/blog/assets/js/61.256fe1da.js"><link rel="prefetch" href="/blog/assets/js/62.91f99804.js"><link rel="prefetch" href="/blog/assets/js/63.e16a767f.js"><link rel="prefetch" href="/blog/assets/js/64.5f3c729d.js"><link rel="prefetch" href="/blog/assets/js/65.dea4bc6f.js"><link rel="prefetch" href="/blog/assets/js/66.21c43207.js"><link rel="prefetch" href="/blog/assets/js/67.e210960b.js"><link rel="prefetch" href="/blog/assets/js/68.9f29c9f1.js"><link rel="prefetch" href="/blog/assets/js/69.32314171.js"><link rel="prefetch" href="/blog/assets/js/7.946a0e76.js"><link rel="prefetch" href="/blog/assets/js/70.3c5857df.js"><link rel="prefetch" href="/blog/assets/js/71.7dc0cda1.js"><link rel="prefetch" href="/blog/assets/js/72.ebd5e904.js"><link rel="prefetch" href="/blog/assets/js/73.dd3ce63a.js"><link rel="prefetch" href="/blog/assets/js/74.357e2be4.js"><link rel="prefetch" href="/blog/assets/js/75.6e6586f5.js"><link rel="prefetch" href="/blog/assets/js/76.25d5499a.js"><link rel="prefetch" href="/blog/assets/js/77.cb05068a.js"><link rel="prefetch" href="/blog/assets/js/78.d809be8e.js"><link rel="prefetch" href="/blog/assets/js/8.81e65069.js"><link rel="prefetch" href="/blog/assets/js/80.6694d9cf.js"><link rel="prefetch" href="/blog/assets/js/81.fe71d122.js"><link rel="prefetch" href="/blog/assets/js/82.31ec7f36.js"><link rel="prefetch" href="/blog/assets/js/9.2aac9543.js"><link rel="prefetch" href="/blog/assets/js/vendors~docsearch.77d2bd9a.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.7b9ae4fa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-19557b78><div data-v-19557b78><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-19557b78 data-v-19557b78><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-19557b78 data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>phy-lei</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>phy-lei</span>
            
          <!---->
          2024
        </a></span></div></div> <div class="hide" data-v-19557b78><header class="navbar" data-v-19557b78><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/mine.jpg" alt="phy-lei" class="logo"> <span class="site-name">phy-lei</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/article/" class="nav-link"><i class="iconfont undefined"></i>
  article
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/css/" class="nav-link"><i class="iconfont undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/git/" class="nav-link"><i class="iconfont undefined"></i>
  git
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/linux/" class="nav-link"><i class="iconfont undefined"></i>
  linux
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/react/" class="nav-link"><i class="iconfont undefined"></i>
  react
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/vue/" class="nav-link"><i class="iconfont undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/vuepress/" class="nav-link"><i class="iconfont undefined"></i>
  vuepress
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/前端的那些事儿/" class="nav-link"><i class="iconfont undefined"></i>
  前端的那些事儿
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/成长之路/" class="nav-link"><i class="iconfont undefined"></i>
  成长之路
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/数据结构与算法/" class="nav-link"><i class="iconfont undefined"></i>
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/面试/" class="nav-link"><i class="iconfont undefined"></i>
  面试
</a></li></ul></div></div><div class="nav-item"><a href="/blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/phy-lei" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-19557b78></div> <aside class="sidebar" data-v-19557b78><div class="personal-info-wrapper" data-v-b038cec6><img src="/blog/mine.jpg" alt="author-avatar" class="personal-img" data-v-b038cec6> <h3 class="name" data-v-b038cec6>
    phy-lei
  </h3> <div class="num" data-v-b038cec6><div data-v-b038cec6><h3 data-v-b038cec6>42</h3> <h6 data-v-b038cec6>Article</h6></div> <div data-v-b038cec6><h3 data-v-b038cec6>12</h3> <h6 data-v-b038cec6>Tag</h6></div></div> <hr data-v-b038cec6></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/article/" class="nav-link"><i class="iconfont undefined"></i>
  article
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/css/" class="nav-link"><i class="iconfont undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/git/" class="nav-link"><i class="iconfont undefined"></i>
  git
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/linux/" class="nav-link"><i class="iconfont undefined"></i>
  linux
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/react/" class="nav-link"><i class="iconfont undefined"></i>
  react
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/vue/" class="nav-link"><i class="iconfont undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/vuepress/" class="nav-link"><i class="iconfont undefined"></i>
  vuepress
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/前端的那些事儿/" class="nav-link"><i class="iconfont undefined"></i>
  前端的那些事儿
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/成长之路/" class="nav-link"><i class="iconfont undefined"></i>
  成长之路
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/数据结构与算法/" class="nav-link"><i class="iconfont undefined"></i>
  数据结构与算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/面试/" class="nav-link"><i class="iconfont undefined"></i>
  面试
</a></li></ul></div></div><div class="nav-item"><a href="/blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/phy-lei" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>初识动态规划01背包问题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/20200612/#动态规划" class="sidebar-link">动态规划</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/20200612/#_1-最优子结构" class="sidebar-link">1.最优子结构</a></li><li class="sidebar-sub-header"><a href="/blog/20200612/#_2-dp数组的遍历方向" class="sidebar-link">2.dp数组的遍历方向</a></li><li class="sidebar-sub-header"><a href="/blog/20200612/#_3-动态规划框架" class="sidebar-link">3.动态规划框架</a></li><li class="sidebar-sub-header"><a href="/blog/20200612/#_01背包一维" class="sidebar-link">01背包一维</a></li><li class="sidebar-sub-header"><a href="/blog/20200612/#_01背包二维" class="sidebar-link">01背包二维</a></li></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>初识动态规划01背包问题</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>phy-lei</span>
            
          <!---->
          2024
        </a></span></div></div> <div data-v-19557b78><main class="page"><div class="page-title" style="display:none;"><h1>初识动态规划01背包问题</h1> <hr> <div data-v-484a899e><i class="iconfont reco-account" data-v-484a899e><span data-v-484a899e>phy-lei</span></i> <i class="iconfont reco-date" data-v-484a899e><span data-v-484a899e>2020-06-12</span></i> <!----> <i class="iconfont reco-tag tags" data-v-484a899e><span class="tag-item" data-v-484a899e>
      数据结构与算法
    </span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h2 id="动态规划"><a href="#动态规划" class="header-anchor">#</a> 动态规划</h2> <p>动态规划常常适用于有重叠子问题和最优子结构性质的问题，动态规划方法所耗时间往往远少于朴素解法。动态规划背后的基本思想非常简单。大致上，若要解一个给定问题，我们需要解其不同部分（即子问题），再根据子问题的解以得出原问题的解。动态规划往往用于优化递归问题，例如斐波那契数列，如果运用递归的方式来求解会重复计算很多相同的子问题，利用动态规划的思想可以减少计算量。</p> <h3 id="_1-最优子结构"><a href="#_1-最优子结构" class="header-anchor">#</a> 1.最优子结构</h3> <p>「最优子结构」是某些问题的一种特定性质，并不是动态规划问题专有的。想满足最优子结构，子问题之间必须互相独立。<br>
举个例子，比如，求一个班上的某个同学成绩最好，这就是最优子结构，而如果是求一个班上成绩第二名的，就不是了，为什么呢？因为第二名的，可能在一个小组里面是最好的，但是在全班上就可能不是成绩最好的，而如果在班上成绩最好的，那肯定在小组内，成绩也是最好的。<br>
如果子问题不相互独立，就不符合最优子结构，不过有些情况也可以改造问题，使其成为最优子结构，最优子结构性质作为动态规划问题的必要条件，一定是让你求最值的。</p> <h3 id="_2-dp数组的遍历方向"><a href="#_2-dp数组的遍历方向" class="header-anchor">#</a> 2.dp数组的遍历方向</h3> <p>有的时候，我们需要对dp数组的遍历方向做一些改变，有时候是正向，反向，斜向。<br>
而01背包问题应该从后往前反向遍历，因为每个物品（或者说数字）只能用一次，以免之前的结果影响其他的结果。</p> <h3 id="_3-动态规划框架"><a href="#_3-动态规划框架" class="header-anchor">#</a> 3.动态规划框架</h3> <p>因为递归树，常常会出现子问题重叠，为了剪枝，有时候需要用备忘录递归解法，还有就是dp数组的迭代解法，DP table使用的是自底向上思想，备忘录是自顶向下，备忘录更像是一颗递归树，每次解决问题，最好是画出该问题的递归树，然后查找规律，找出最短路径，拿到最优解。<br>
第一步：明确「状态」和「选择」。<br>
如何才能描述一个问题局面？只要给几个物品和一个背包的容量限制，就形成了一个背包问题呀。所以状态有两个，就是「背包的容量」和「可选择的物品」。<br>
再说选择，也很容易想到啊，对于每件物品，你能选择什么？选择就是「装进背包」或者「不装进背包」嘛。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">for</span> 状态<span class="token number">1</span> <span class="token keyword">in</span> 状态<span class="token number">1</span>的所有取值：
    <span class="token keyword">for</span> 状态<span class="token number">2</span> <span class="token keyword">in</span> 状态<span class="token number">2</span>的所有取值：
        <span class="token keyword">for</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
            dp<span class="token punctuation">[</span>状态<span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>状态<span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token operator">=</span> 择优<span class="token punctuation">(</span>选择<span class="token number">1</span>，选择<span class="token number">2.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
</code></pre></div><p>接下来就解决下01背包的问题吧~</p> <h3 id="_01背包一维"><a href="#_01背包一维" class="header-anchor">#</a> 01背包一维</h3> <div class="custom-block danger"><p>输入<br>
15;15,15;7,2;8,14<br>
其中15是你每周的休闲时间<br>
15,15 表示泡第1个妹子（撩第1个汉子）需要15分钟能获取15的幸福感<br>
7,2 表示泡第2个妹子（撩第2个汉子）需要7分钟能获取2的幸福感<br>
8,14 表示泡第3个妹子（撩第3个汉子）需要8分钟能获取14的幸福感<br>
输出<br>
输出是你能获得最大的幸福感<br>
16<br>
你同时泡（撩）第2个和第3个妹子（汉子），消耗7+8=15分钟，能获得最大的幸福感2+14=16<br></p></div> <p>因为做题的平台没有自己熟悉的js，只能用python了：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">knapsack</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
    s <span class="token operator">=</span> s<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot;;&quot;</span><span class="token punctuation">)</span>
    c <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    step <span class="token operator">=</span> <span class="token number">0</span>
    girls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        s_s <span class="token operator">=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        s_s <span class="token operator">=</span> s_s<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span>
        girls<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">(</span>s_s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s_s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        step <span class="token operator">+=</span> <span class="token number">1</span>
    dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">(</span>c<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token comment"># 套用状态框架</span>
    <span class="token comment"># for状态1「可选择的物品」</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span><span class="token punctuation">:</span>
        girl <span class="token operator">=</span> girls<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        t <span class="token operator">=</span> girl<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        v <span class="token operator">=</span> girl<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token comment"># for状态2「花费的时间」</span>
        <span class="token comment"># 这里是反向遍历</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> j<span class="token operator">&gt;=</span>t<span class="token punctuation">:</span>
                v1 <span class="token operator">=</span> dp<span class="token punctuation">[</span>j<span class="token operator">-</span>t<span class="token punctuation">]</span><span class="token operator">+</span>v
                v2 <span class="token operator">=</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
                dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>v1<span class="token punctuation">,</span>v2<span class="token punctuation">)</span>
    <span class="token keyword">print</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span>
a <span class="token operator">=</span> <span class="token builtin">raw_input</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
knapsack<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</code></pre></div><h3 id="_01背包二维"><a href="#_01背包二维" class="header-anchor">#</a> 01背包二维</h3> <p>二维的背包仅仅是多了一层而已，不过有个地方需要注意，数组用乘法构成，只是浅拷贝，应该用生成器生成。</p> <div class="custom-block danger"><p>输入<br>
包含你每周的休闲时间（分钟）和可用金钱（元），还有若干个妹子（汉子）需要消耗的时间和能获取到的幸福感<br>
15,8;15,8,15;7,6,2;8,2,14<br>
其中15是你每周的休闲时间<br>
8表示你每周可用金钱为8元<br>
15,8,15 表示泡第1个妹子（撩第1个汉子）需要15分钟花费8元能获取15的幸福感<br>
7,6,2 表示泡第2个妹子（撩第2个汉子）需要7分钟花费6元能获取2的幸福感<br>
8,2,14 表示泡第3个妹子（撩第3个汉子）需要8分钟花费2元能获取14的幸福感<br>
输出<br>
16<br>
你同时泡（撩）第2个和第3个妹子（汉子），消耗7+8=15分钟，花费6+2=8元，能获得最大的幸福感2+14=16<br></p></div> <p>代码：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">knapsack</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
    s <span class="token operator">=</span> s<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot;;&quot;</span><span class="token punctuation">)</span>
    my_time <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    my_money <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    step <span class="token operator">=</span> <span class="token number">0</span>
    girls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        s_s <span class="token operator">=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        s_s <span class="token operator">=</span> s_s<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span>
        girls<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">(</span>s_s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s_s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">int</span><span class="token punctuation">(</span>s_s<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        step<span class="token operator">+=</span><span class="token number">1</span>
    <span class="token comment"># 这个是浅拷贝的用法 如果是一维的话还好 二维的话就会出bug 一直遍历的都是同一个   </span>
    <span class="token comment"># dp = [[0]*(my_money+1)]*(my_time+1)</span>
    dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>my_money<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>my_time<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token comment"># 套用状态框架</span>
    <span class="token comment"># for状态1「可选择的物品」</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span><span class="token punctuation">:</span>
        girl <span class="token operator">=</span> girls<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        t <span class="token operator">=</span> girl<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        m <span class="token operator">=</span> girl<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        v <span class="token operator">=</span> girl<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
        <span class="token comment"># for状态2「花费的时间」</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># for状态3「花费的金钱」</span>
            <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> k<span class="token operator">&gt;=</span>m <span class="token keyword">and</span> j<span class="token operator">&gt;=</span>t<span class="token punctuation">:</span>
                    <span class="token comment"># dp[状态1][状态2][...] = 择优(选择1，选择2...)</span>
                    dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span>dp<span class="token punctuation">[</span>j<span class="token operator">-</span>t<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token operator">-</span>m<span class="token punctuation">]</span><span class="token operator">+</span>v<span class="token punctuation">)</span>
    <span class="token keyword">print</span> <span class="token builtin">max</span><span class="token punctuation">(</span><span class="token builtin">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span>
a <span class="token operator">=</span> <span class="token builtin">raw_input</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
knapsack<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</code></pre></div><p>这就是自己初识动态规划的一点感想，其实有很多还是抄大佬的想法，不过大佬总结的框架就像是公式一样，往里套就对了，而且我还发现了一个规律，这框架还符合数学的函数，可以约去相同的一项，比如：</p> <div class="custom-block tip"><p>上面的二维其实原本是三维的，原本这样dp[i][j][k] = max(dp[i][j][k],dp[i]dp[j-t][k-m]+v)，不过用了数学的函数特性，等号左右两边相同的表达式可以约去，因为左右两边都有个公共的dp[i],故约去后，就变成了降维dp[j][k] = max(dp[j][k],dp[j-t][k-m]+v)，一维的dp也是同样的道理，如果不降维，内存可是会超了的，我一开始就没降维，所以超内存了。</p></div></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/26/2024, 8:47:31 AM</span></div></footer> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----></div></div>
    <script src="/blog/assets/js/app.f82ab758.js" defer></script><script src="/blog/assets/js/3.f22d9993.js" defer></script><script src="/blog/assets/js/2.6942517c.js" defer></script><script src="/blog/assets/js/1.6cb646c9.js" defer></script><script src="/blog/assets/js/79.e42c1929.js" defer></script><script src="/blog/assets/js/29.fcd1d089.js" defer></script>
  </body>
</html>
